<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Sanity Extractor</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="css/styles.css">
        <link rel="stylesheet" href="css/loader.css">
        <link rel="stylesheet" href="css/authentication.css">
        <link rel="stylesheet" href="css/app.css">
        <link rel="icon" href="res/favicon.png" type="image/x-icon">
    </head>
    <body>
        <!-- Loader -->
        <div id="loader"></div>
        
        <!-- Authentication Form -->
        <div id="auth-page" style="display: none;">
            <form id="auth-form">
                <svg data-sanity-icon="sanity-logo" height="2em" viewBox="0 0 352 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M311.14 57.234V80.0016H298.499V57.234" fill="#fdada5"></path>
                    <path d="M298.499 57.2341L319.889 20.0017H333.316L311.14 57.2341H298.499Z" fill="#ef4434"></path>
                    <path d="M298.499 57.2341L276.515 20.0017H290.345L305.239 45.5161L298.499 57.2341Z" fill="#fdada5"></path>
                    <path d="M253.839 40.9625V80.0017H241.007V47.6275L253.839 40.9625Z" fill="#fdada5"></path>
                    <path d="M241.007 47.5944L273.538 30.9469L268.042 21.6519L241.007 34.8633V47.5944Z" fill="#ffdedc"></path>
                    <path d="M241.007 30.9469H221.404V20.0017H267.064L273.538 30.9469H253.839H241.007Z" fill="#ef4434"></path>
                    <path d="M214.047 20.0017H201.311V80.0121H214.047V20.0017Z" fill="#ef4434"></path>
                    <path d="M149.39 37.8712V80.0017H137.153V20.0017L149.39 37.8712Z" fill="#fdada5"></path>
                    <path d="M151.282 20.0017L178.231 60.9939V80.0017L137.153 20.0017H151.282Z" fill="#ef4434"></path>
                    <path d="M178.231 57.9129V20.0017H190.467V80.0017H178.231V57.9129Z" fill="#fdada5"></path>
                    <path d="M82.1168 80.9834L112.102 65.3053L108.405 55.7303L88.6644 64.9362L82.1168 80.9834Z" fill="#ffdedc"></path>
                    <path d="M100.657 35.5422L82.1167 80.9834L72.5807 72.7745L94.6719 20.0017L100.657 35.5422Z" fill="#fdada5"></path>
                    <path d="M94.672 20.0017H107.312L130.69 80.0017H117.752L94.672 20.0017Z" fill="#ef4434"></path>
                    <path d="M25.1347 26.926C25.1347 35.2811 30.3864 40.2524 40.9004 42.8738L52.0417 45.4117C61.9923 47.6571 68.0519 53.2341 68.0519 62.3203C68.1293 66.2787 66.8194 70.1429 64.3417 73.2654C64.3417 64.2002 59.5684 59.302 48.0551 56.3568L37.1158 53.913C28.3559 51.9495 21.5946 47.3647 21.5946 37.4952C21.5485 33.6839 22.7939 29.9658 25.1347 26.926" fill="#ef4434"></path>
                    <path d="M57.4954 60.0957C62.2475 63.0827 64.3311 67.2602 64.3311 73.255C60.3977 78.2054 53.4875 80.9834 45.3655 80.9834C31.6941 80.9834 22.1262 74.3725 20 62.8842H33.1292C34.8196 68.1584 39.2952 70.6022 45.2698 70.6022C52.5626 70.6022 57.4104 66.7798 57.506 60.0748" fill="#fdada5"></path>
                    <path d="M31.9598 39.3124C29.7898 38.0455 28.0095 36.225 26.8079 34.0442C25.6062 31.8634 25.028 29.4036 25.1347 26.926C28.93 22.0174 35.5318 19.02 43.5794 19.02C57.506 19.02 65.5643 26.2472 67.5523 36.4195H54.9227C53.53 32.409 50.0431 29.2863 43.6858 29.2863C36.8926 29.2863 32.2575 33.1715 31.9917 39.3124" fill="#fdada5"></path>
                </svg>
                <hr class="divider">
                <h1 id="auth-message">Enter your Sanity API credentials</h1>
                <input type="username" id="auth-project" placeholder="Project ID & Dataset">
                <input type="password" id="auth-token" placeholder="API Key">
                <button id="form-auth-button" data-inverted="true">Authenticate</button>
                <p id="auth-error" style="display: none;">This is an example error, please do something! Please do something very fast</p>
            </form>
            <p id="auth-disclaimer">This software is provided under the <a href="https://opensource.org/licenses/MIT" id="auth-disclaimer-link" target="_blank">MIT License</a>. The author disclaims all liability for any damages or issues arising from its use.</p>
        </div>

        <!-- Application -->
        <div id="app-mainpage" style="display: none;">
            <div id="app-tabs">
                <h1 id="app-tabs-message">TOOLS</h1>
                <hr class="divider">
                <button id="tab-translation-files" class="app-tab">
                    <svg class="tab-icon" width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M14.4672 2.0002C14.4105 1.9989 14.3551 2.00393 14.3018 2.01464C13.5511 1.99999 12.7218 2 11.8069 2L11.6932 2C10.7782 2 9.94895 1.99999 9.19825 2.01464C9.14488 2.00393 9.08952 1.9989 9.03282 2.0002C6.54819 2.05713 4.77756 2.27987 3.53716 3.52277L3.52979 3.53017L3.52277 3.53716C2.27987 4.77756 2.05712 6.54819 2.0002 9.03283C1.9989 9.08952 2.00393 9.14488 2.01464 9.19825C2.0127 9.29746 2.01102 9.39804 2.00956 9.5H3.75C4.99264 9.5 6 10.5074 6 11.75C6 12.9926 4.99264 14 3.75 14H2.00956C2.01102 14.102 2.0127 14.2026 2.01464 14.3018C2.00393 14.3552 1.9989 14.4105 2.0002 14.4672C2.05713 16.9518 2.27987 18.7224 3.52277 19.9628L3.52997 19.97L3.53716 19.9772C4.77756 21.2201 6.54818 21.4429 9.03283 21.4998C9.08952 21.5011 9.14488 21.4961 9.19825 21.4854C9.94894 21.5 10.7782 21.5 11.6931 21.5H11.8069C12.7218 21.5 13.5511 21.5 14.3018 21.4854C14.3552 21.4961 14.4105 21.5011 14.4672 21.4998C16.9518 21.4429 18.7224 21.2201 19.9628 19.9772L19.9699 19.9702L19.9772 19.9628C21.2201 18.7224 21.4429 16.9518 21.4998 14.4672C21.5011 14.4105 21.4961 14.3552 21.4854 14.3018C21.4873 14.2026 21.489 14.102 21.4904 14H19.75C18.5074 14 17.5 12.9926 17.5 11.75C17.5 10.5074 18.5074 9.5 19.75 9.5H21.4904C21.489 9.39804 21.4873 9.29746 21.4854 9.19825C21.4961 9.14488 21.5011 9.08952 21.4998 9.03283C21.4429 6.54819 21.2201 4.77756 19.9772 3.53716L19.9701 3.53001L19.9628 3.52277C18.7224 2.27987 16.9518 2.05713 14.4672 2.0002ZM7.75 7C7.33579 7 7 7.33579 7 7.75C7 8.16421 7.33579 8.5 7.75 8.5H11V15.75C11 16.1642 11.3358 16.5 11.75 16.5C12.1642 16.5 12.5 16.1642 12.5 15.75V8.5H15.75C16.1642 8.5 16.5 8.16421 16.5 7.75C16.5 7.33579 16.1642 7 15.75 7H7.75Z" fill="#1C274C"/>
                        <path d="M19 11.75C19 11.3358 19.3358 11 19.75 11H21.75C22.1642 11 22.5 11.3358 22.5 11.75C22.5 12.1642 22.1642 12.5 21.75 12.5H19.75C19.3358 12.5 19 12.1642 19 11.75Z" fill="#1C274C"/>
                        <path d="M1.75 11C1.33579 11 1 11.3358 1 11.75C1 12.1642 1.33579 12.5 1.75 12.5H3.75C4.16421 12.5 4.5 12.1642 4.5 11.75C4.5 11.3358 4.16421 11 3.75 11H1.75Z" fill="#1C274C"/>
                    </svg>
                    Translation Files
                </button>
                <button id="tab-exercise-revision" class="app-tab">
                    <svg class="tab-icon" width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M8.3807 20.5682L3.43157 15.6191C2.52737 14.7149 2.07528 14.2628 2.0108 13.7107C1.9964 13.5874 1.9964 13.4629 2.0108 13.3397C2.07528 12.7876 2.52737 12.3355 3.43156 11.4313C4.33575 10.5271 4.78785 10.075 5.33994 10.0106C5.46318 9.99616 5.58768 9.99616 5.71092 10.0106C6.26301 10.075 6.71511 10.5271 7.6193 11.4313L8.35253 12.1646L12.1648 8.35229L11.4316 7.61906C10.5274 6.71486 10.0753 6.26277 10.0108 5.71068C9.9964 5.58744 9.9964 5.46294 10.0108 5.3397C10.0753 4.78761 10.5274 4.33551 11.4316 3.43132C12.3358 2.52713 12.7879 2.07503 13.3399 2.01055C13.4632 1.99616 13.5877 1.99616 13.7109 2.01055C14.263 2.07503 14.7151 2.52713 15.6193 3.43132L20.5684 8.38046C21.4726 9.28465 21.9247 9.73675 21.9892 10.2888C22.0036 10.4121 22.0036 10.5366 21.9892 10.6598C21.9247 11.2119 21.4726 11.664 20.5684 12.5682C19.6642 13.4724 19.2122 13.9245 18.6601 13.989C18.5368 14.0034 18.4123 14.0034 18.2891 13.989C17.737 13.9245 17.2849 13.4724 16.3807 12.5682L15.2688 11.4563L11.4565 15.2686L12.5684 16.3805C13.4726 17.2846 13.9247 17.7367 13.9892 18.2888C14.0036 18.4121 14.0036 18.5366 13.9892 18.6598C13.9247 19.2119 13.4726 19.664 12.5684 20.5682C11.6642 21.4724 11.2121 21.9245 10.6601 21.989C10.5368 22.0034 10.4123 22.0034 10.2891 21.989C9.73699 21.9245 9.28489 21.4724 8.3807 20.5682Z" fill="#1C274C"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M17.4885 1.96772C17.7814 1.67482 18.2562 1.67482 18.5491 1.96772L21.6531 5.07173C21.946 5.36462 21.946 5.83949 21.6531 6.13239C21.3602 6.42528 20.8854 6.42528 20.5925 6.13239L17.4885 3.02838C17.1956 2.73548 17.1956 2.26061 17.4885 1.96772ZM1.96723 17.4876C2.26012 17.1947 2.735 17.1947 3.02789 17.4876L6.1319 20.5916C6.42479 20.8845 6.42479 21.3594 6.1319 21.6523C5.83901 21.9452 5.36413 21.9452 5.07124 21.6523L1.96723 18.5483C1.67434 18.2554 1.67434 17.7805 1.96723 17.4876Z" fill="#1C274C"/>
                    </svg>
                    Exercises Revision
                </button>
                <button id="tab-ai-tools" class="app-tab">
                    <svg class="tab-icon" width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M15.75 2C15.75 1.58579 15.4142 1.25 15 1.25C14.5858 1.25 14.25 1.58579 14.25 2V22C14.25 22.4142 14.5858 22.75 15 22.75C15.4142 22.75 15.75 22.4142 15.75 22V19.9944C18.3859 19.9668 19.8541 19.8028 20.8284 18.8284C22 17.6569 22 15.7712 22 12C22 8.22876 22 6.34315 20.8284 5.17157C19.8541 4.19724 18.3859 4.03321 15.75 4.00559V2Z" fill="#1C274C"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M10 20C6.22876 20 4.34315 20 3.17157 18.8284C2 17.6569 2 15.7712 2 12C2 8.22876 2 6.34315 3.17157 5.17157C4.34315 4 6.22876 4 10 4H13V20H10ZM6.81782 7.78733C7.11779 7.74992 7.48429 7.74996 7.88383 7.75H10.1162C10.5157 7.74996 10.8822 7.74992 11.1822 7.78733C11.5109 7.82833 11.8612 7.9242 12.1624 8.19187C12.2138 8.23753 12.2625 8.28618 12.3081 8.33756C12.5758 8.63878 12.6717 8.98915 12.7127 9.31782C12.7501 9.61779 12.7501 9.98428 12.75 10.3838L12.75 10.425C12.75 10.8392 12.4142 11.175 12 11.175C11.5858 11.175 11.25 10.8392 11.25 10.425C11.25 9.97047 11.2486 9.69931 11.2242 9.50348C11.1998 9.30765 10.9965 9.2758 10.9965 9.2758C10.8007 9.25137 10.5295 9.25001 10.075 9.25001H9.75001V14.75H11C11.4142 14.75 11.75 15.0858 11.75 15.5C11.75 15.9142 11.4142 16.25 11 16.25H7.00001C6.58579 16.25 6.25001 15.9142 6.25001 15.5C6.25001 15.0858 6.58579 14.75 7.00001 14.75H8.25001V9.25001H7.925C7.47047 9.25001 7.19931 9.25137 7.00348 9.2758C7.00348 9.2758 6.80023 9.30765 6.7758 9.50348C6.75137 9.69931 6.75001 9.97047 6.75001 10.425C6.75001 10.8392 6.41422 11.175 6.00001 11.175C5.58579 11.175 5.25001 10.8392 5.25001 10.425L5.25 10.3838C5.24996 9.98428 5.24992 9.61779 5.28733 9.31782C5.32833 8.98915 5.4242 8.63878 5.69187 8.33756C5.73753 8.28618 5.78618 8.23753 5.83756 8.19187C6.13878 7.9242 6.48915 7.82833 6.81782 7.78733Z" fill="#1C274C"/>
                    </svg>
                    AI Tools
                </button>
                <button id="tab-settings" class="app-tab">
                    <svg class="tab-icon" width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M14.2788 2.15224C13.9085 2 13.439 2 12.5 2C11.561 2 11.0915 2 10.7212 2.15224C10.2274 2.35523 9.83509 2.74458 9.63056 3.23463C9.53719 3.45834 9.50065 3.7185 9.48635 4.09799C9.46534 4.65568 9.17716 5.17189 8.69017 5.45093C8.20318 5.72996 7.60864 5.71954 7.11149 5.45876C6.77318 5.2813 6.52789 5.18262 6.28599 5.15102C5.75609 5.08178 5.22018 5.22429 4.79616 5.5472C4.47814 5.78938 4.24339 6.1929 3.7739 6.99993C3.30441 7.80697 3.06967 8.21048 3.01735 8.60491C2.94758 9.1308 3.09118 9.66266 3.41655 10.0835C3.56506 10.2756 3.77377 10.437 4.0977 10.639C4.57391 10.936 4.88032 11.4419 4.88029 12C4.88026 12.5581 4.57386 13.0639 4.0977 13.3608C3.77372 13.5629 3.56497 13.7244 3.41645 13.9165C3.09108 14.3373 2.94749 14.8691 3.01725 15.395C3.06957 15.7894 3.30432 16.193 3.7738 17C4.24329 17.807 4.47804 18.2106 4.79606 18.4527C5.22008 18.7756 5.75599 18.9181 6.28589 18.8489C6.52778 18.8173 6.77305 18.7186 7.11133 18.5412C7.60852 18.2804 8.2031 18.27 8.69012 18.549C9.17714 18.8281 9.46533 19.3443 9.48635 19.9021C9.50065 20.2815 9.53719 20.5417 9.63056 20.7654C9.83509 21.2554 10.2274 21.6448 10.7212 21.8478C11.0915 22 11.561 22 12.5 22C13.439 22 13.9085 22 14.2788 21.8478C14.7726 21.6448 15.1649 21.2554 15.3694 20.7654C15.4628 20.5417 15.4994 20.2815 15.5137 19.902C15.5347 19.3443 15.8228 18.8281 16.3098 18.549C16.7968 18.2699 17.3914 18.2804 17.8886 18.5412C18.2269 18.7186 18.4721 18.8172 18.714 18.8488C19.2439 18.9181 19.7798 18.7756 20.2038 18.4527C20.5219 18.2105 20.7566 17.807 21.2261 16.9999C21.6956 16.1929 21.9303 15.7894 21.9827 15.395C22.0524 14.8691 21.9088 14.3372 21.5835 13.9164C21.4349 13.7243 21.2262 13.5628 20.9022 13.3608C20.4261 13.0639 20.1197 12.558 20.1197 11.9999C20.1197 11.4418 20.4261 10.9361 20.9022 10.6392C21.2263 10.4371 21.435 10.2757 21.5836 10.0835C21.9089 9.66273 22.0525 9.13087 21.9828 8.60497C21.9304 8.21055 21.6957 7.80703 21.2262 7C20.7567 6.19297 20.522 5.78945 20.2039 5.54727C19.7799 5.22436 19.244 5.08185 18.7141 5.15109C18.4722 5.18269 18.2269 5.28136 17.8887 5.4588C17.3915 5.71959 16.7969 5.73002 16.3099 5.45096C15.8229 5.17191 15.5347 4.65566 15.5136 4.09794C15.4993 3.71848 15.4628 3.45833 15.3694 3.23463C15.1649 2.74458 14.7726 2.35523 14.2788 2.15224ZM12.5 15C14.1695 15 15.5228 13.6569 15.5228 12C15.5228 10.3431 14.1695 9 12.5 9C10.8305 9 9.47716 10.3431 9.47716 12C9.47716 13.6569 10.8305 15 12.5 15Z" fill="#1C274C"/>
                    </svg>
                    User Settings
                </button>
            </div>
            <div id="app-page">
                <h1 id="app-page-download">Download Translation Files</h1>
                <hr class="divider">
                <input id="app-document-ids" placeholder="Sanity Content IDs (ID1, ID2, ID3, ...)">
                <div style="display: none;">
                    <input type="checkbox" id="app-single-file">
                    <p class="checkbox-label">Download in a single Translation File.</p>
                </div>
                <div>
                    <button id="app-document-download" data-inverted="true">Download<span class="small-loader" data-inverted="true" style="display: none;"></span></button>
                    <p id="download-error" class="error-label" style="display: none;">Here is an example of error message that the user may encounter during navigation.</p>
                </div>
                <div class="spacer"></div>

                <h1 id="app-page-category">Upload Translation Files</h1>
                <hr class="divider">
                <input type="file" id="app-translation-document" accept=".html" multiple>
                <input id="app-document-id" style="display: none;" placeholder="Sanity Content ID (Only for Single-Content Files)">
                <div>
                    <input type="checkbox" id="app-force-id">
                    <p class="checkbox-label">Specify a Sanity Content ID manually (be sure to provide the correct ID).</p>
                </div>
                <div>
                    <button id="app-document-upload" data-inverted="true">Upload<span class="small-loader" data-inverted="true" style="display: none;"></span></button>
                    <p id="upload-error" class="error-label" style="display: none;">Here is an example of error message that the user may encounter during navigation.</p>
                </div>
            </div>
            <div id="app-exercises" style="display: none;">
                <h1 id="app-page-download">Fetch Draft Exercise IDs</h1>
                <hr class="divider">
                <div>
                    <button id="app-en-result-fetch" data-inverted="true">EN Drafts<span class="small-loader" data-inverted="true" style="display: none;"></span></button>
                    <div class="spacerH"></div>
                    <button id="app-fr-result-fetch" data-inverted="true">FR Drafts<span class="small-loader" data-inverted="true" style="display: none;"></span></button>
                    <p id="app-fetch-error" class="error-label" style="display: none;">Here is an example of error message that the user may encounter during navigation.</p>
                </div>

                <input id="app-result-ids" placeholder="Sanity Draft IDs">
            </div>


            <div id="app-ai" style="display: none;">
                <h1 id="app-page-download">Rewrite Module</h1>
                <hr class="divider">
                <input id="app-ai-document-id" placeholder="Sanity Module ID">
                <div>
                    <button id="app-ai-rewrite" data-inverted="true">Tokenize<span class="small-loader" data-inverted="true" style="display: none;"></span></button>
                    <p id="app-ai-error" class="error-label" style="display: none;">Here is an example of error message that the user may encounter during navigation.</p>
                </div>

                <textarea id="app-ai-results" placeholder="Output" cols="40" rows="5"></textarea>
            </div>


            
        </div>

        <!-- Scripts -->
        <script src="https://unpkg.com/gpt-tokenizer"></script>
        <script src="src/authentication.js"></script>
        <script src="src/paths.js"></script>
        <script src="src/conversion.js"></script>
        <script src="src/app.js"></script>
    </body>
</html>
